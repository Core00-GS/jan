"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[157],{88539:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>r,contentTitle:()=>s,default:()=>c,frontMatter:()=>d,metadata:()=>l,toc:()=>a});var i=n(85893),o=n(11151);const d={title:"Integrate LM Studio with Jan",slug:"/guides/integrations/lmstudio",description:"Guide to integrate LM Studio with Jan",keywords:["Jan AI","Jan","ChatGPT alternative","local AI","private AI","conversational AI","no-subscription fee","large language model","LM Studio integration"]},s=void 0,l={id:"guides/integrations/integrate-lmstudio",title:"Integrate LM Studio with Jan",description:"Guide to integrate LM Studio with Jan",source:"@site/docs/guides/07-integrations/05-integrate-lmstudio.mdx",sourceDirName:"guides/07-integrations",slug:"/guides/integrations/lmstudio",permalink:"/guides/integrations/lmstudio",draft:!1,unlisted:!1,editUrl:"https://github.com/janhq/jan/tree/main/docs/docs/guides/07-integrations/05-integrate-lmstudio.mdx",tags:[],version:"current",lastUpdatedBy:"Henry",lastUpdatedAt:1709094168,formattedLastUpdatedAt:"Feb 28, 2024",sidebarPosition:5,frontMatter:{title:"Integrate LM Studio with Jan",slug:"/guides/integrations/lmstudio",description:"Guide to integrate LM Studio with Jan",keywords:["Jan AI","Jan","ChatGPT alternative","local AI","private AI","conversational AI","no-subscription fee","large language model","LM Studio integration"]},sidebar:"guidesSidebar",previous:{title:"Integrate Mistral AI with Jan",permalink:"/guides/integrations/mistral-ai"},next:{title:"Integrate Ollama with Jan",permalink:"/guides/integrations/ollama"}},r={},a=[{value:"Quick Introduction",id:"quick-introduction",level:2},{value:"Steps to Integrate LM Studio Server with Jan UI",id:"steps-to-integrate-lm-studio-server-with-jan-ui",level:2},{value:"1. Start the LM Studio Server",id:"1-start-the-lm-studio-server",level:3},{value:"2. Modify a Model JSON",id:"2-modify-a-model-json",level:3},{value:"3. Start the Model",id:"3-start-the-model",level:3},{value:"4. Try Out the Integration of Jan and LM Studio",id:"4-try-out-the-integration-of-jan-and-lm-studio",level:3},{value:"Steps to Migrate Your Downloaded Model from LM Studio to Jan (version 0.4.6 and older)",id:"steps-to-migrate-your-downloaded-model-from-lm-studio-to-jan-version-046-and-older",level:2},{value:"1. Migrate Your Downloaded Model",id:"1-migrate-your-downloaded-model",level:3},{value:"2. Start the Model",id:"2-start-the-model",level:3},{value:"Steps to Pointing to the Downloaded Model of LM Studio from Jan (version 0.4.7+)",id:"steps-to-pointing-to-the-downloaded-model-of-lm-studio-from-jan-version-047",level:2},{value:"1. Reveal the Model Absolute Path",id:"1-reveal-the-model-absolute-path",level:3},{value:"2. Modify a Model JSON",id:"2-modify-a-model-json-1",level:3},{value:"3. Start the Model",id:"3-start-the-model-1",level:3}];function h(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.h2,{id:"quick-introduction",children:"Quick Introduction"}),"\n",(0,i.jsxs)(t.p,{children:["With ",(0,i.jsx)(t.a,{href:"https://lmstudio.ai/",children:"LM Studio"}),", you can discover, download, and run local Large Language Models (LLMs). In this guide, we will show you how to integrate and use your current models on LM Studio with Jan using 2 methods.  The first method is integrating LM Studio server with Jan UI. The second method is migrating your downloaded model from LM Studio to Jan. We will use the ",(0,i.jsx)(t.a,{href:"https://huggingface.co/TheBloke/phi-2-GGUF",children:"Phi 2 - GGUF"})," model on Hugging Face as an example."]}),"\n",(0,i.jsx)(t.h2,{id:"steps-to-integrate-lm-studio-server-with-jan-ui",children:"Steps to Integrate LM Studio Server with Jan UI"}),"\n",(0,i.jsx)(t.h3,{id:"1-start-the-lm-studio-server",children:"1. Start the LM Studio Server"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:["Navigate to the ",(0,i.jsx)(t.code,{children:"Local Inference Server"})," on the LM Studio application."]}),"\n",(0,i.jsx)(t.li,{children:"Select the model you want to use."}),"\n",(0,i.jsx)(t.li,{children:"Start the server after configuring the server port and options."}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"LM Studio Server",src:n(2480).Z+"",width:"1184",height:"720"})}),"\n",(0,i.jsx)("br",{}),"\n",(0,i.jsxs)(t.p,{children:["Modify the ",(0,i.jsx)(t.code,{children:"openai.json"})," file in the ",(0,i.jsx)(t.code,{children:"~/jan/engines"})," folder to include the full URL of the LM Studio server."]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-json",metastring:'title="~/jan/engines/openai.json"',children:'{\n  "full_url": "http://localhost:<port>/v1/chat/completions"\n}\n'})}),"\n",(0,i.jsx)(t.admonition,{type:"tip",children:(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["Replace ",(0,i.jsx)(t.code,{children:"<port>"})," with the port number you set in the LM Studio server. The default port is ",(0,i.jsx)(t.code,{children:"1234"}),"."]}),"\n"]})}),"\n",(0,i.jsx)(t.h3,{id:"2-modify-a-model-json",children:"2. Modify a Model JSON"}),"\n",(0,i.jsxs)(t.p,{children:["Navigate to the ",(0,i.jsx)(t.code,{children:"~/jan/models"})," folder. Create a folder named ",(0,i.jsx)(t.code,{children:"<lmstudio-modelname>"}),", for example, ",(0,i.jsx)(t.code,{children:"lmstudio-phi-2"})," and create a ",(0,i.jsx)(t.code,{children:"model.json"})," file inside the folder including the following configurations:"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["Set the ",(0,i.jsx)(t.code,{children:"format"})," property to ",(0,i.jsx)(t.code,{children:"api"}),"."]}),"\n",(0,i.jsxs)(t.li,{children:["Set the ",(0,i.jsx)(t.code,{children:"engine"})," property to ",(0,i.jsx)(t.code,{children:"openai"}),"."]}),"\n",(0,i.jsxs)(t.li,{children:["Set the ",(0,i.jsx)(t.code,{children:"state"})," property to ",(0,i.jsx)(t.code,{children:"ready"}),"."]}),"\n"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-json",metastring:'title="~/jan/models/lmstudio-phi-2/model.json"',children:'{\n  "sources": [\n    {\n      "filename": "phi-2-GGUF",\n      "url": "https://huggingface.co/TheBloke/phi-2-GGUF"\n    }\n  ],\n  "id": "lmstudio-phi-2",\n  "object": "model",\n  "name": "LM Studio - Phi 2 - GGUF",\n  "version": "1.0",\n  "description": "TheBloke/phi-2-GGUF",\n  // highlight-next-line\n  "format": "api",\n  "settings": {},\n  "parameters": {},\n  "metadata": {\n    "author": "Microsoft",\n    "tags": ["General", "Big Context Length"]\n  },\n  // highlight-start\n  "engine": "openai"\n  // highlight-end\n}\n'})}),"\n",(0,i.jsx)(t.h3,{id:"3-start-the-model",children:"3. Start the Model"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:["Restart Jan and navigate to the ",(0,i.jsx)(t.strong,{children:"Hub"}),"."]}),"\n",(0,i.jsxs)(t.li,{children:["Locate your model and click the ",(0,i.jsx)(t.strong,{children:"Use"})," button."]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"LM Studio Model",src:n(79958).Z+"",width:"3454",height:"2156"})}),"\n",(0,i.jsx)(t.h3,{id:"4-try-out-the-integration-of-jan-and-lm-studio",children:"4. Try Out the Integration of Jan and LM Studio"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"LM Studio Integration Demo",src:n(61585).Z+"",width:"1036",height:"720"})}),"\n",(0,i.jsx)(t.h2,{id:"steps-to-migrate-your-downloaded-model-from-lm-studio-to-jan-version-046-and-older",children:"Steps to Migrate Your Downloaded Model from LM Studio to Jan (version 0.4.6 and older)"}),"\n",(0,i.jsx)(t.h3,{id:"1-migrate-your-downloaded-model",children:"1. Migrate Your Downloaded Model"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:["Navigate to ",(0,i.jsx)(t.code,{children:"My Models"})," in the LM Studio application and reveal the model folder."]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Reveal-model-folder-lmstudio",src:n(96877).Z+"",width:"1036",height:"720"})}),"\n",(0,i.jsxs)(t.ol,{start:"2",children:["\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:["Copy the model folder that you want to migrate to ",(0,i.jsx)(t.code,{children:"~/jan/models"})," folder."]}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:["Ensure the folder name property is the same as the model name of ",(0,i.jsx)(t.code,{children:".gguf"})," filename by changing the folder name if necessary. For example, in this case, we changed foldername from ",(0,i.jsx)(t.code,{children:"TheBloke"})," to ",(0,i.jsx)(t.code,{children:"phi-2.Q4_K_S"}),"."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(t.h3,{id:"2-start-the-model",children:"2. Start the Model"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:["Restart Jan and navigate to the ",(0,i.jsx)(t.strong,{children:"Hub"}),". Jan will automatically detect the model and display it in the ",(0,i.jsx)(t.strong,{children:"Hub"}),"."]}),"\n",(0,i.jsxs)(t.li,{children:["Locate your model and click the ",(0,i.jsx)(t.strong,{children:"Use"})," button to try the migrating model."]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Demo",src:n(32954).Z+"",width:"1040",height:"720"})}),"\n",(0,i.jsx)(t.h2,{id:"steps-to-pointing-to-the-downloaded-model-of-lm-studio-from-jan-version-047",children:"Steps to Pointing to the Downloaded Model of LM Studio from Jan (version 0.4.7+)"}),"\n",(0,i.jsx)(t.p,{children:"Starting from version 0.4.7, Jan supports importing models using an absolute filepath, so you can directly use the model from the LM Studio folder."}),"\n",(0,i.jsx)(t.h3,{id:"1-reveal-the-model-absolute-path",children:"1. Reveal the Model Absolute Path"}),"\n",(0,i.jsxs)(t.p,{children:["Navigate to ",(0,i.jsx)(t.code,{children:"My Models"})," in the LM Studio application and reveal the model folder. Then, you can get the absolute path of your model."]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Reveal-model-folder-lmstudio",src:n(96877).Z+"",width:"1036",height:"720"})}),"\n",(0,i.jsx)(t.h3,{id:"2-modify-a-model-json-1",children:"2. Modify a Model JSON"}),"\n",(0,i.jsxs)(t.p,{children:["Navigate to the ",(0,i.jsx)(t.code,{children:"~/jan/models"})," folder. Create a folder named ",(0,i.jsx)(t.code,{children:"<modelname>"}),", for example, ",(0,i.jsx)(t.code,{children:"phi-2.Q4_K_S"})," and create a ",(0,i.jsx)(t.code,{children:"model.json"})," file inside the folder including the following configurations:"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["Ensure the ",(0,i.jsx)(t.code,{children:"id"})," property matches the folder name you created."]}),"\n",(0,i.jsxs)(t.li,{children:["Ensure the ",(0,i.jsx)(t.code,{children:"url"})," property is the direct binary download link ending in ",(0,i.jsx)(t.code,{children:".gguf"}),". Now, you can use the absolute filepath of the model file. In this example, the absolute filepath is ",(0,i.jsx)(t.code,{children:"/Users/<username>/.cache/lm-studio/models/TheBloke/phi-2-GGUF/phi-2.Q4_K_S.gguf"}),"."]}),"\n",(0,i.jsxs)(t.li,{children:["Ensure the ",(0,i.jsx)(t.code,{children:"engine"})," property is set to ",(0,i.jsx)(t.code,{children:"nitro"}),"."]}),"\n"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-json",children:'{\n  "object": "model",\n  "version": 1,\n  "format": "gguf",\n  "sources": [\n    {\n      "filename": "phi-2.Q4_K_S.gguf",\n      "url": "<absolute-path-of-model-file>"\n    }\n  ],\n  "id": "phi-2.Q4_K_S",\n  "name": "phi-2.Q4_K_S",\n  "created": 1708308111506,\n  "description": "phi-2.Q4_K_S - user self import model",\n  "settings": {\n    "ctx_len": 4096,\n    "embedding": false,\n    "prompt_template": "{system_message}\\n### Instruction: {prompt}\\n### Response:",\n    "llama_model_path": "phi-2.Q4_K_S.gguf"\n  },\n  "parameters": {\n    "temperature": 0.7,\n    "top_p": 0.95,\n    "stream": true,\n    "max_tokens": 2048,\n    "stop": ["<endofstring>"],\n    "frequency_penalty": 0,\n    "presence_penalty": 0\n  },\n  "metadata": {\n    "size": 1615568736,\n    "author": "User",\n    "tags": []\n  },\n  "engine": "nitro"\n}\n'})}),"\n",(0,i.jsx)(t.admonition,{type:"warning",children:(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["If you are using Windows, you need to use double backslashes in the url property, for example: ",(0,i.jsx)(t.code,{children:"C:\\\\Users\\\\username\\\\filename.gguf"}),"."]}),"\n"]})}),"\n",(0,i.jsx)(t.h3,{id:"3-start-the-model-1",children:"3. Start the Model"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:["Restart Jan and navigate to the ",(0,i.jsx)(t.strong,{children:"Hub"}),"."]}),"\n",(0,i.jsxs)(t.li,{children:["Jan will automatically detect the model and display it in the ",(0,i.jsx)(t.strong,{children:"Hub"}),"."]}),"\n",(0,i.jsxs)(t.li,{children:["Locate your model and click the ",(0,i.jsx)(t.strong,{children:"Use"})," button to try the migrating model."]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Demo",src:n(65222).Z+"",width:"1036",height:"720"})})]})}function c(e={}){const{wrapper:t}={...(0,o.a)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},32954:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/05-demo-migrating-model-c7859db14b81200dea40468fae9a569f.gif"},65222:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/05-demo-pointing-model-61f93ca5a9243aeb11dc9a555c9f1e30.gif"},61585:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/05-lmstudio-integration-demo-f4918aaa557931ddef0a9c18dcfe7c97.gif"},79958:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/05-lmstudio-run-6cc5edbf66e3a42a29373f5b89897f10.png"},96877:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/05-reveal-model-folder-lmstudio-c728b761820ab8539dfeb54a799e2a36.gif"},2480:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/05-setting-lmstudio-server-c28193c018cb76fb8dcc9c74e1bc9a80.gif"},11151:(e,t,n)=>{n.d(t,{Z:()=>l,a:()=>s});var i=n(67294);const o={},d=i.createContext(o);function s(e){const t=i.useContext(d);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),i.createElement(d.Provider,{value:t},e.children)}}}]);