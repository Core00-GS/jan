"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[2607],{36777:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>a,toc:()=>d});var s=n(85893),r=n(11151);const i={title:"HTTPS Proxy",slug:"/guides/advanced-settings/https-proxy",description:"Jan is a ChatGPT-alternative that runs on your own computer, with a local API server.",keywords:["Jan AI","Jan","ChatGPT alternative","local AI","private AI","conversational AI","no-subscription fee","large language model","advanced-settings","https-proxy"]},o=void 0,a={id:"guides/advanced-settings/https-proxy",title:"HTTPS Proxy",description:"Jan is a ChatGPT-alternative that runs on your own computer, with a local API server.",source:"@site/docs/guides/09-advanced-settings/01-https-proxy.mdx",sourceDirName:"guides/09-advanced-settings",slug:"/guides/advanced-settings/https-proxy",permalink:"/guides/advanced-settings/https-proxy",draft:!1,unlisted:!1,editUrl:"https://github.com/janhq/jan/tree/main/docs/docs/guides/09-advanced-settings/01-https-proxy.mdx",tags:[],version:"current",lastUpdatedBy:"Henry",lastUpdatedAt:1709094168,formattedLastUpdatedAt:"Feb 28, 2024",sidebarPosition:1,frontMatter:{title:"HTTPS Proxy",slug:"/guides/advanced-settings/https-proxy",description:"Jan is a ChatGPT-alternative that runs on your own computer, with a local API server.",keywords:["Jan AI","Jan","ChatGPT alternative","local AI","private AI","conversational AI","no-subscription fee","large language model","advanced-settings","https-proxy"]},sidebar:"guidesSidebar",previous:{title:"Advanced Settings",permalink:"/guides/advanced-settings/"}},c={},d=[{value:"Why HTTPS Proxy?",id:"why-https-proxy",level:2},{value:"Setting Up Your Own HTTPS Proxy Server",id:"setting-up-your-own-https-proxy-server",level:2},{value:"Step 1: Choosing a Server",id:"step-1-choosing-a-server",level:3},{value:"Step 2: Installing Squid",id:"step-2-installing-squid",level:3},{value:"Step 3: Configure Squid for HTTPS",id:"step-3-configure-squid-for-https",level:3},{value:"Step 4 (Optional): Configure ACLs and Authentication",id:"step-4-optional-configure-acls-and-authentication",level:3},{value:"Step 5: Restart and Test Your Proxy",id:"step-5-restart-and-test-your-proxy",level:3},{value:"Setting Up Jan to Use Your HTTPS Proxy",id:"setting-up-jan-to-use-your-https-proxy",level:2}];function l(e){const t={admonition:"admonition",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.p,{children:"In this guide, we will show you how to set up your own HTTPS proxy server and configure Jan to use it."}),"\n",(0,s.jsx)(t.h2,{id:"why-https-proxy",children:"Why HTTPS Proxy?"}),"\n",(0,s.jsx)(t.p,{children:"An HTTPS proxy helps you to maintain your privacy and security while still being able to browser the internet circumventing geographical restrictions."}),"\n",(0,s.jsx)(t.h2,{id:"setting-up-your-own-https-proxy-server",children:"Setting Up Your Own HTTPS Proxy Server"}),"\n",(0,s.jsx)(t.p,{children:"In this section, we will show you a high-level overview of how to set up your own HTTPS proxy server. This guide focus on using Squid as a popular and open-source proxy server software, but there are other software options you might consider based on your needs and preferences."}),"\n",(0,s.jsx)(t.h3,{id:"step-1-choosing-a-server",children:"Step 1: Choosing a Server"}),"\n",(0,s.jsx)(t.p,{children:"Firstly, you need to choose a server to host your proxy server. We recommend using a cloud provider like Amazon AWS, Google Cloud, Microsoft Azure, Digital Ocean, etc. Ensure that your server has a public IP address and is accessible from the internet."}),"\n",(0,s.jsx)(t.h3,{id:"step-2-installing-squid",children:"Step 2: Installing Squid"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"sudo apt-get update\nsudo apt-get install squid\n"})}),"\n",(0,s.jsx)(t.h3,{id:"step-3-configure-squid-for-https",children:"Step 3: Configure Squid for HTTPS"}),"\n",(0,s.jsx)(t.p,{children:"To enable HTTPS, you will need to configure Squid with SSL support."}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Generate SSL certificate"}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"Squid requires an SSL certificate to be able to handle HTTPS traffic. You can generate a self-signed certificate or obtain one from a Certificate Authority (CA). For a self-signed certificate, you can use OpenSSL:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"openssl req -new -newkey rsa:2048 -days 365 -nodes -x509 -keyout squid-proxy.pem -out squid-proxy.pem\n"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Configure Squid to use the SSL certificate: Edit the Squid configuration file ",(0,s.jsx)(t.code,{children:"/etc/squid/squid.conf"})," to include the path to your SSL certificate and enable the HTTPS port:"]}),"\n"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"http_port 3128 ssl-bump cert=/path/to/your/squid-proxy.pem\nssl_bump server-first all\nssl_bump bump all\n"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Enable SSL Bumping: To intercept HTTPS traffic, Squid uses a process called SSL Bumping. This process allows Squid to decrypt and re-encrypt HTTPS traffic. To enable SSL Bumping, ensure the ",(0,s.jsx)(t.code,{children:"ssl_bump"})," directives are configured correctly in your ",(0,s.jsx)(t.code,{children:"squid.conf"})," file."]}),"\n"]}),"\n",(0,s.jsx)(t.h3,{id:"step-4-optional-configure-acls-and-authentication",children:"Step 4 (Optional): Configure ACLs and Authentication"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Access Control Lists (ACLs): You can define rules to control who can access your proxy. This is done by editing the squid.conf file and defining ACLs:"}),"\n"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:'acl allowed_ips src "/etc/squid/allowed_ips.txt"\nhttp_access allow allowed_ips\n'})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Authentication: If you want to add an authentication layer, Squid supports several authentication schemes. Basic authentication setup might look like this:"}),"\n"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"auth_param basic program /usr/lib/squid/basic_ncsa_auth /etc/squid/passwords\nacl authenticated proxy_auth REQUIRED\nhttp_access allow authenticated\n"})}),"\n",(0,s.jsx)(t.h3,{id:"step-5-restart-and-test-your-proxy",children:"Step 5: Restart and Test Your Proxy"}),"\n",(0,s.jsx)(t.p,{children:"After configuring, restart Squid to apply the changes:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"sudo systemctl restart squid\n"})}),"\n",(0,s.jsx)(t.p,{children:"To test, configure your browser or another client to use the proxy server with its IP address and port (default is 3128). Check if you can access the internet through your proxy."}),"\n",(0,s.jsxs)(t.admonition,{type:"tip",children:[(0,s.jsx)(t.p,{children:"Tips for Secure Your Proxy:"}),(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Firewall rules: Ensure that only intended users or IP addresses can connect to your proxy server. This can be achieved by setting up appropriate firewall rules."}),"\n",(0,s.jsx)(t.li,{children:"Regular updates: Keep your server and proxy software updated to ensure that you are protected against known vulnerabilities."}),"\n",(0,s.jsx)(t.li,{children:"Monitoring and logging: Monitor your proxy server for unusual activity and enable logging to keep track of the traffic passing through your proxy."}),"\n"]})]}),"\n",(0,s.jsx)(t.h2,{id:"setting-up-jan-to-use-your-https-proxy",children:"Setting Up Jan to Use Your HTTPS Proxy"}),"\n",(0,s.jsxs)(t.p,{children:["Once you have your HTTPS proxy server set up, you can configure Jan to use it. Navigate to ",(0,s.jsx)(t.code,{children:"Settings"})," > ",(0,s.jsx)(t.code,{children:"Advanced Settings"})," and specify the HTTPS proxy (proxy auto-configuration and SOCKS not supported)."]}),"\n",(0,s.jsxs)(t.p,{children:["You can turn on the feature ",(0,s.jsx)(t.code,{children:"Ignore SSL Certificates"})," if you are using a self-signed certificate. This feature allows self-signed or unverified certificates."]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"01-https-proxy-jan-configure",src:n(22268).Z+"",width:"3456",height:"2158"})})]})}function u(e={}){const{wrapper:t}={...(0,r.a)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},22268:(e,t,n)=>{n.d(t,{Z:()=>s});const s=n.p+"assets/images/01-https-proxy-jan-configure-e97c825733b208c3049a555e62ec948b.png"},11151:(e,t,n)=>{n.d(t,{Z:()=>a,a:()=>o});var s=n(67294);const r={},i=s.createContext(r);function o(e){const t=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),s.createElement(i.Provider,{value:t},e.children)}}}]);